<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cascadia score calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="A score calculator for the board game Cascadia, including scoring for one to four players">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap" rel="stylesheet">
    <style>
      :root {
        --main-color: #444B53;
      }
      * { font-family: 'Open Sans', sans-serif; font-weight: 600; color: var(--main-color); box-sizing: border-box; }
      body { background-color: #F6F6F6; margin: 0; padding: 40px 0; position: relative; }
      .wrap { max-width: 400px; padding: 0 20px; margin: 0 auto; }
      .hide { text-indent: -99em; position: absolute; left: -9999px; width: 0; height: 0; }
      .rows {padding: 0;}
      .row-label { font-size: 16px; width: 80px; }
      .counter, .initials, .score, .total-score { font-size: 32px; }
      h1, .rows label { text-indent: -99em; position: absolute; width: 0; height: 0; }
      button { background: none; width: 40px; height: 40px; font-size: 24px; border: none; cursor: pointer; line-height: 38px; }
      .row { display: flex; flex-direction: row; align-items: center; justify-content: space-between; margin-bottom: 20px; }
      .row.end { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--main-color); }
      .counter, .initials { display: flex; flex-direction: row; align-items: center; justify-content: space-between; }
      input[type="number"], input[type="text"] { display: block; width: 40px; height: 40px; line-height: 38px; padding: 0; border: 1px solid #333; text-align: center; -moz-appearance: textfield; font-size: 18px; }
      .input { position: relative; }
			.initials input[type="text"] { text-transform: uppercase; }
      .input .bonus { position: absolute; text-align: right; bottom: 2px; right: 3px; font-size: 10px; pointer-events: none; }
      input[type="number"]::-webkit-outer-spin-button,input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
      .total-scores { cursor: pointer; display: flex; flex-direction: row; align-items: center; justify-content: space-between; }
      .total-scores .row-label {visibility: hidden;}
      .total-score { width: 120px; text-align: center;}
      .players { border: 0; padding: 0; font-size: 14px; margin: 0; }
      .players legend { position: absolute; top: -999px; }
      .players ul { overflow: hidden; position: relative; display: block; list-style: none; margin: 0 0 40px; padding: 0; display: flex; flex-direction: row; align-items: center; justify-content: space-evenly; }
      .players li { width: 50%; }
      .players label { border: 1px solid #DDD; display: block; background: #FFF; color: #999; padding: 6px 10px; margin-bottom: 5px; cursor: pointer; transition: .2s background; position: relative; text-align: center; }
      .players span { color: #999; }
      .players li:first-child label { border-radius: 4px 0 0 4px; border-right-color: #FFF; }
      .players li:last-child label { border-radius: 0 4px 4px 0; }
      .players li:nth-child(2) label, .players li:nth-child(3) label { border-right-color: #FFF; }
      input[type="radio"] { opacity: 0; position: absolute; }
      .players li input[type="radio"]:checked + label { border: 1px solid var(--main-color); background: #EEE; color: var(--main-color); }
      .players li input[type="radio"]:checked + label span { color: var(--main-color); }
      label { -webkit-tap-highlight-color: rgba(0,0,0,0); }
      body[data-players="1"] .player-multi { display: none; }
			body[data-players="2"] .initials { margin: 0 40px; }
      body[data-players="3"] .counter button, body[data-players="4"] .counter button {display: none;}
      body[data-players="1"] .player-2, body[data-players="1"] .player-3, body[data-players="1"] .player-4 { display: none; }
      body[data-players="2"] .player-3, body[data-players="2"] .player-4 { display: none; }
      body[data-players="3"] .player-4 { display: none; }
      body[data-players="1"] .row, body[data-players="1"] .total-scores { justify-content: normal; gap: 40px; }
      body[data-players="3"] .total-score, body[data-players="4"] .total-score { width: 40px; font-size: 24px; }
      .feedback { margin: 40px 0 0; text-align: center; font-size: 14px; }
      .feedback a { color: #999; }
    </style>
  </head>

  <body data-players="1">
    <div class="wrap">
    <h1>Cascadia score calculator</h1>

    <fieldset class="players">
    <legend>Players</legend>
    <ul>
      <li>
        <input type="radio" name="player" id="players-1" value="1" class="js-player-switch" checked>
        <label for="players-1">1</label>
      </li>
      <li>
        <input type="radio" name="player" id="players-2" value="2" class="js-player-switch">
        <label for="players-2">2</label>
      </li>
      <li>
        <input type="radio" name="player" id="players-3" value="3" class="js-player-switch">
        <label for="players-3">3</label>
      </li>
      <li>
        <input type="radio" name="player" id="players-4" value="4" class="js-player-switch">
        <label for="players-4">4</label>
      </li>
    </ul>
    </fieldset>

    <ul class="rows player-multi">
      <li class="row end">
        <div class="row-label">Player</div>
        <div class="initials player-1">
          <label for="player-1-initials">Player 1 initials</label>
          <input id="player-1-initials" type="text" value="" maxlength="2" />
        </div>
        <div class="initials player-2">
          <label for="player-2-initials">Player 2 initials</label>
          <input id="player-2-initials" type="text" value="" maxlength="2" />
        </div>
        <div class="initials player-3">
          <label for="player-3-initials">Player 3 initials</label>
          <input id="player-3-initials" type="text" value="" maxlength="2" />
        </div>
        <div class="initials player-4">
          <label for="player-4-initials">Player 4 initials</label>
          <input id="player-4-initials" type="text" value="" maxlength="2" />
        </div>
      </li>
    </ul>

    <ul class="rows">
      <li class="row js-row">
        <h2 class="row-label">Bear</h2>
        <div class="counter player-1">
	        <label for="player-1-bear">Player 1</label>
          <button class="js-decrement" data-row="1" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-bear" type="number" min="0" class="js-score" data-row="1" data-type="animal" data-player="1" value="0" />
          <button class="js-increment" data-row="1" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-bear">Player 2</label>
          <button class="js-decrement" data-row="1" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-bear" type="number" min="0" class="js-score" data-row="1" data-type="animal" data-player="2" value="0" />
          <button class="js-increment" data-row="1" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-bear">Player 3</label>
          <button class="js-decrement" data-row="1" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-bear" type="number" min="0" class="js-score" data-row="1" data-type="animal" data-player="3" value="0" />
          <button class="js-increment" data-row="1" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-bear">Player 4</label>
          <button class="js-decrement" data-row="1" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-bear" type="number" min="0" class="js-score" data-row="1" data-type="animal" data-player="4" value="0" />
          <button class="js-increment" data-row="1" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Elk</h2>
        <div class="counter player-1">
	  <label for="player-1-elk">Player 1</label>
          <button class="js-decrement" data-row="2" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-elk" type="number" min="0" class="js-score" data-row="2" data-type="animal" data-player="1" value="0" />
          <button class="js-increment" data-row="2" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-elk">Player 2</label>
          <button class="js-decrement" data-row="2" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-elk" type="number" min="0" class="js-score" data-row="2" data-type="animal" data-player="2" value="0" />
          <button class="js-increment" data-row="2" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-elk">Player 3</label>
          <button class="js-decrement" data-row="3" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-elk" type="number" min="0" class="js-score" data-row="2" data-type="animal" data-player="3" value="0" />
          <button class="js-increment" data-row="2" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-elk">Player 4</label>
          <button class="js-decrement" data-row="2" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-elk" type="number" min="0" class="js-score" data-row="2" data-type="animal" data-player="4" value="0" />
          <button class="js-increment" data-row="2" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Hawk</h2>
        <div class="counter player-1">
          <label for="player-1-hawk">Player 1</label>
          <button class="js-decrement" data-row="3" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-hawk" type="number" min="0" class="js-score" data-row="3" data-type="animal" data-player="1" value="0" />
          <button class="js-increment" data-row="3" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-hawk">Player 2</label>
          <button class="js-decrement" data-row="3" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-hawk" type="number" min="0" class="js-score" data-row="3" data-type="animal" data-player="2" value="0" />
          <button class="js-increment" data-row="3" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-hawk">Player 3</label>
          <button class="js-decrement" data-row="3" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-hawk" type="number" min="0" class="js-score" data-row="3" data-type="animal" data-player="3" value="0" />
          <button class="js-increment" data-row="3" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-hawk">Player 4</label>
          <button class="js-decrement" data-row="3" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-hawk" type="number" min="0" class="js-score" data-row="3" data-type="animal" data-player="4" value="0" />
          <button class="js-increment" data-row="3" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label player-1">Fox</h2>
        <div class="counter">
	  <label for="player-1-fox">Player 1</label>
          <button class="js-decrement" data-row="4" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-fox" type="number" min="0" class="js-score" data-row="4" data-type="animal" data-player="1" value="0" />
          <button class="js-increment" data-row="4" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-fox">Player 2</label>
          <button class="js-decrement" data-row="4" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-fox" type="number" min="0" class="js-score" data-row="4" data-type="animal" data-player="2" value="0" />
          <button class="js-increment" data-row="4" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-fox">Player 3</label>
          <button class="js-decrement" data-row="4" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-fox" type="number" min="0" class="js-score" data-row="4" data-type="animal" data-player="3" value="0" />
          <button class="js-increment" data-row="4" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-fox">Player 4</label>
          <button class="js-decrement" data-row="4" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-fox" type="number" min="0" class="js-score" data-row="4" data-type="animal" data-player="4" value="0" />
          <button class="js-increment" data-row="4" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row end js-row">
        <h2 class="row-label player-1">Salmon</h2>
        <div class="counter">
	  <label for="player-1-salmon">Player 1</label>
          <button class="js-decrement" data-row="5" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-salmon" type="number" min="0" class="js-score" data-row="5" data-type="animal" data-player="1" value="0" />
          <button class="js-increment" data-row="5" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-salmon">Player 2</label>
          <button class="js-decrement" data-row="5" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-salmon" type="number" min="0" class="js-score" data-row="5" data-type="animal" data-player="2" value="0" />
          <button class="js-increment" data-row="5" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-salmon">Player 3</label>
          <button class="js-decrement" data-row="5" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-salmon" type="number" min="0" class="js-score" data-row="5" data-type="animal" data-player="3" value="0" />
          <button class="js-increment" data-row="5" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-salmon">Player 4</label>
          <button class="js-decrement" data-row="5" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-salmon" type="number" min="0" class="js-score" data-row="5" data-type="animal" data-player="4" value="0" />
          <button class="js-increment" data-row="5" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Mountain</h2>
        <div class="counter player-1">
	  <label for="player-1-mountain">Player 1</label>
          <button class="js-decrement" data-row="6" data-player="1" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-1-mountain" type="number" min="0" class="js-score" data-row="6" data-type="territory" data-player="1" value="0" />
            <div class="js-bonus bonus" data-row="6" data-player="1"></div>
          </div>
          <button class="js-increment" data-row="6" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
	  <label for="player-2-mountain">Player 2</label>
          <button class="js-decrement" data-row="6" data-player="2" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-2-mountain" type="number" min="0" class="js-score" data-row="6" data-type="territory" data-player="2" value="0" />
            <div class="js-bonus bonus" data-row="6" data-player="2"></div>
          </div>
          <button class="js-increment" data-row="6" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-mountain">Player 3</label>
          <button class="js-decrement" data-row="6" data-player="3" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-3-mountain" type="number" min="0" class="js-score" data-row="6" data-type="territory" data-player="3" value="0" />
            <div class="js-bonus bonus" data-row="6" data-player="3"></div>
          </div>
          <button class="js-increment" data-row="6" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-mountain">Player 4</label>
          <button class="js-decrement" data-row="6" data-player="4" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-4-mountain" type="number" min="0" class="js-score" data-row="6" data-type="territory" data-player="4" value="0" />
            <div class="js-bonus bonus" data-row="6" data-player="4"></div>
          </div>
          <button class="js-increment" data-row="6" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Forest</h2>
        <div class="counter player-1">
	  <label for="player-1-forest">Player 1</label>
          <button class="js-decrement" data-row="7" data-player="1" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-1-forest" type="number" min="0" class="js-score" data-row="7" data-type="territory" data-player="1" value="0" />
            <div class="js-bonus bonus" data-row="7" data-player="1"></div>
          </div>
          <button class="js-increment" data-row="7" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
	  <label for="player-2-forest">Player 2</label>
          <button class="js-decrement" data-row="7" data-player="2" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-2-forest" type="number" min="0" class="js-score" data-row="7" data-type="territory" data-player="2" value="0" />
            <div class="js-bonus bonus" data-row="7" data-player="2"></div>
          </div>
          <button class="js-increment" data-row="7" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-forest">Player 3</label>
          <button class="js-decrement" data-row="7" data-player="3" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-3-forest" type="number" min="0" class="js-score" data-row="7" data-type="territory" data-player="3" value="0" />
            <div class="js-bonus bonus" data-row="7" data-player="3"></div>
          </div>
          <button class="js-increment" data-row="7" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-forest">Player 4</label>
          <button class="js-decrement" data-row="7" data-player="4" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-4-forest" type="number" min="0" class="js-score" data-row="7" data-type="territory" data-player="4" value="0" />
            <div class="js-bonus bonus" data-row="7" data-player="4"></div>
          </div>
          <button class="js-increment" data-row="7" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Prarie</h2>
        <div class="counter player-1">
	  <label for="player-1-prarie">Player 1</label>
          <button class="js-decrement" data-row="8" data-player="1" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-1-prarie" type="number" min="0" class="js-score" data-row="8" data-type="territory" data-player="1" value="0" />
            <div class="js-bonus bonus" data-row="8" data-player="1"></div>
          </div>
          <button class="js-increment" data-row="8" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-prarie">Player 2</label>
          <button class="js-decrement" data-row="8" data-player="2" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-2-prarie" type="number" min="0" class="js-score" data-row="8" data-type="territory" data-player="2" value="0" />
            <div class="js-bonus bonus" data-row="8" data-player="2"></div>
          </div>
          <button class="js-increment" data-row="8" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-prarie">Player 3</label>
          <button class="js-decrement" data-row="8" data-player="3" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-3-prarie" type="number" min="0" class="js-score" data-row="8" data-type="territory" data-player="3" value="0" />
            <div class="js-bonus bonus" data-row="8" data-player="3"></div>
          </div>
          <button class="js-increment" data-row="8" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-prarie">Player 4</label>
          <button class="js-decrement" data-row="8" data-player="4" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-4-prarie" type="number" min="0" class="js-score" data-row="8" data-type="territory" data-player="4" value="0" />
            <div class="js-bonus bonus" data-row="8" data-player="4"></div>
          </div>
          <button class="js-increment" data-row="8" data-player="4" tabindex="-1">+</button>
        </div>
      </li>
      <li class="row js-row">
        <h2 class="row-label">Wetland</h2>
        <div class="counter player-1">
	  <label for="player-1-wetland">Player 1</label>
          <button class="js-decrement" data-row="9" data-player="1" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-1-wetland" type="number" min="0" class="js-score" data-row="9" data-type="territory" data-player="1" value="0" />
            <div class="js-bonus bonus" data-row="9" data-player="1"></div>
          </div>
          <button class="js-increment" data-row="9" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-wetland">Player 2</label>
          <button class="js-decrement" data-row="9" data-player="2" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-2-wetland" type="number" min="0" class="js-score" data-row="9" data-type="territory" data-player="2" value="0" />
            <div class="js-bonus bonus" data-row="9" data-player="2"></div>
          </div>
          <button class="js-increment" data-row="9" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-wetland">Player 3</label>
          <button class="js-decrement" data-row="9" data-player="3" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-3-wetland" type="number" min="0" class="js-score" data-row="9" data-type="territory" data-player="3" value="0" />
            <div class="js-bonus bonus" data-row="9" data-player="3"></div>
          </div>
          <button class="js-increment" data-row="9" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-wetland">Player 4</label>
          <button class="js-decrement" data-row="9" data-player="4" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-4-wetland" type="number" min="0" class="js-score" data-row="9" data-type="territory" data-player="4" value="0" />
            <div class="js-bonus bonus" data-row="9" data-player="4"></div>
          </div>
          <button class="js-increment" data-row="9" data-player="4" tabindex="-1">+</button>
        </div>
	   </li>
      <li class="row end js-row">
        <h2 class="row-label">River</h2>
        <div class="counter player-1">
          <label for="player-1-river">Player 1</label>
          <button class="js-decrement" data-row="10" data-player="1" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-1-river" type="number" min="0" class="js-score" data-row="10" data-type="territory" data-player="1" value="0" />
            <div class="js-bonus bonus" data-row="10" data-player="1"></div>
          </div>
          <button class="js-increment" data-row="10" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-river">Player 2</label>
          <button class="js-decrement" data-row="10" data-player="2" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-2-river" type="number" min="0" class="js-score" data-row="10" data-type="territory" data-player="2" value="0" />
            <div class="js-bonus bonus" data-row="10" data-player="2"></div>
          </div>
          <button class="js-increment" data-row="10" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-river">Player 3</label>
          <button class="js-decrement" data-row="10" data-player="3" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-3-river" type="number" min="0" class="js-score" data-row="10" data-type="territory" data-player="3" value="0" />
            <div class="js-bonus bonus" data-row="10" data-player="3"></div>
          </div>
          <button class="js-increment" data-row="10" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-river">Player 4</label>
          <button class="js-decrement" data-row="10" data-player="4" tabindex="-1">&ndash;</button>
          <div class="input">
            <input id="player-4-river" type="number" min="0" class="js-score" data-row="10" data-type="territory" data-player="4" value="0" />
            <div class="js-bonus bonus" data-row="10" data-player="4"></div>
          </div>
          <button class="js-increment" data-row="10" data-player="4" tabindex="-1">+</button>
        </div>
     </li>
      <li class="row end js-row">
        <h2 class="row-label">Tokens</h2>
        <div class="counter player-1">
          <label for="player-1-tokens">Player 1</label>
          <button class="js-decrement" data-row="11" data-player="1" tabindex="-1">&ndash;</button>
          <input id="player-1-tokens" type="number" min="0" class="js-score" data-row="11" data-player="1" value="0" />
          <button class="js-increment" data-row="11" data-player="1" tabindex="-1">+</button>
        </div>
        <div class="counter player-2">
          <label for="player-2-tokens">Player 2</label>
          <button class="js-decrement" data-row="11" data-player="2" tabindex="-1">&ndash;</button>
          <input id="player-2-tokens" type="number" min="0" class="js-score" data-row="11" data-player="2" value="0" />
          <button class="js-increment" data-row="11" data-player="2" tabindex="-1">+</button>
        </div>
        <div class="counter player-3">
          <label for="player-3-tokens">Player 3</label>
          <button class="js-decrement" data-row="11" data-player="3" tabindex="-1">&ndash;</button>
          <input id="player-3-tokens" type="number" min="0" class="js-score" data-row="11" data-player="3" value="0" />
          <button class="js-increment" data-row="11" data-player="3" tabindex="-1">+</button>
        </div>
        <div class="counter player-4">
          <label for="player-4-tokens">Player 4</label>
          <button class="js-decrement" data-row="11" data-player="4" tabindex="-1">&ndash;</button>
          <input id="player-4-tokens" type="number" min="0" class="js-score" data-row="11" data-player="4" value="0" />
          <button class="js-increment" data-row="11" data-player="4" tabindex="-1">+</button>
        </div>
     </li>
    </ul>
    <div class="total-scores js-total-scores">
      <h2 class="row-label">Totals</h2>
  	  <div class="total-score player-1 js-total-score-player-1">0</div>
              <div class="total-score player-2 js-total-score-player-2">0</div>
              <div class="total-score player-3 js-total-score-player-3">0</div>
              <div class="total-score player-4 js-total-score-player-4">0</div>
  	</div>
    </div>
    <p class="feedback"><a href="https://ronansprake.co.uk/board-game-score-calculators#contact" target="_blank">Could this be better? Send me feedback</a></p>

    <script>
			const body = document.querySelector("body");
			const players = document.querySelectorAll(".js-player-switch");

			const elemScores = document.querySelectorAll(".js-score");
			const elemBonuses = document.querySelectorAll(".js-bonus");

			const elemScoresPlayer1 = document.querySelectorAll(".js-score[data-player='1']");
			const elemBonusesPlayer1 = document.querySelectorAll(".js-bonus[data-player='1']");
			const elemTotalScorePlayer1 = document.querySelector('.js-total-score-player-1');

			const elemScoresPlayer2 = document.querySelectorAll(".js-score[data-player='2']");
			const elemBonusesPlayer2 = document.querySelectorAll(".js-bonus[data-player='2']");
			const elemTotalScorePlayer2 = document.querySelector('.js-total-score-player-2');

			const elemScoresPlayer3 = document.querySelectorAll(".js-score[data-player='3']");
			const elemBonusesPlayer3 = document.querySelectorAll(".js-bonus[data-player='3']");
			const elemTotalScorePlayer3 = document.querySelector('.js-total-score-player-3');

			const elemScoresPlayer4 = document.querySelectorAll(".js-score[data-player='4']");
			const elemBonusesPlayer4 = document.querySelectorAll(".js-bonus[data-player='4']");
			const elemTotalScorePlayer4 = document.querySelector('.js-total-score-player-4');

			const elemIncrements = document.querySelectorAll('.js-increment');
			const elemDecrements = document.querySelectorAll('.js-decrement');

			document.oncontextmenu = function() {
			  return false;
			}

			// Switch player
			players.forEach((player) => {
			  player.addEventListener('change', (e) => {
			    if (player.checked) {
			      body.dataset.players = player.value;
			    }
			    // Reset scores on change of player count
			    // elemScores.forEach((elemScore) => {
			    //   elemScore.value = 0;
			    // });
			    // elemBonuses.forEach((elemBonus) => {
			    //   elemBonus.innerHTML = '';
			    // });
			    updateTotalScore();
			  });
			});

			elemScores.forEach((elemScore) => {
			  elemScore.addEventListener('change', (e) => {
			    if (!elemScore.value) {
			      elemScore.value = 0;
			    }
			    if (elemScore.dataset.type == "territory") {
			      applyBonusesToRow(elemScore.dataset.row);
			    }
			    updateTotalScore();
			  });
			  elemScore.addEventListener('focus', (e) => {
				elemScore.select();
			    e.preventDefault();
			    e.stopPropagation();
			    return false;
			  });
			  elemScore.addEventListener('contextmenu', (e) => {
			    e.preventDefault();
			  });
			});

			// Update row bonuses
			function applyBonusesToRow(row) {
			  var elemScores = document.querySelectorAll(".js-score[data-row='" + row + "']");
			  var elemBonuses = document.querySelectorAll(".js-bonus[data-row='" + row + "']");
			  if (body.dataset.players == 1) {
			    elemScores.forEach((elemScore) => {
			      if (elemScores[0].value > 6) {
			        elemBonuses[0].innerHTML = 2;
			      } else {
			        elemBonuses[0].innerHTML = '';
			      }
			    });
			  }
			  if (body.dataset.players == 2) {
			    if (elemScores[0].value == 0 && elemScores[1].value == 0) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			    }
			    else if (parseInt(elemScores[0].value) > parseInt(elemScores[1].value)) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = '';
			    }
			    else if (parseInt(elemScores[1].value) > parseInt(elemScores[0].value)) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 2;
			    }
			    else {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = 1;
			    }
			  }
			  if (body.dataset.players == 3) {
			    var scorePlayer1 = parseInt(elemScores[0].value);
			    var scorePlayer2 = parseInt(elemScores[1].value);
			    var scorePlayer3 = parseInt(elemScores[2].value);
			    if (scorePlayer1 == 0 && scorePlayer2 == 0 && scorePlayer3 == 0) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 == scorePlayer3) {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = 1;
			      elemBonuses[2].innerHTML = 1;
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 > scorePlayer3) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer3 && scorePlayer1 > scorePlayer2) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 2;
			    }
			    else if (scorePlayer2 == scorePlayer3 && scorePlayer2 > scorePlayer1) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = 2;
			    }
			    else if (scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer3) {
			      elemBonuses[0].innerHTML = 3;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			      if (scorePlayer2 > scorePlayer3) {
			        elemBonuses[1].innerHTML = 1;
			      } else if (scorePlayer3 > scorePlayer2) {
			        elemBonuses[2].innerHTML = 1;
			      }
			    }
			    else if (scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer3) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 3;
			      elemBonuses[2].innerHTML = '';
			      if (scorePlayer1 > scorePlayer3) {
			        elemBonuses[0].innerHTML = 1;
			      } else if (scorePlayer3 > scorePlayer1) {
			        elemBonuses[2].innerHTML = 1;
			      }
			    }
			    else if (scorePlayer3 > scorePlayer1 && scorePlayer3 > scorePlayer2) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 3;
			      if (scorePlayer1 > scorePlayer2) {
			        elemBonuses[0].innerHTML = 1;
			      } else if (scorePlayer2 > scorePlayer1) {
			        elemBonuses[1].innerHTML = 1;
			      }
			    }
			  }
			  if (body.dataset.players == 4) {
			    var scorePlayer1 = parseInt(elemScores[0].value);
			    var scorePlayer2 = parseInt(elemScores[1].value);
			    var scorePlayer3 = parseInt(elemScores[2].value);
			    var scorePlayer4 = parseInt(elemScores[3].value);
			    if (scorePlayer1 == 0 && scorePlayer2 == 0 && scorePlayer3 == 0 && scorePlayer4 == 0) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 == scorePlayer3 && scorePlayer1 == scorePlayer4) {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = 1;
			      elemBonuses[2].innerHTML = 1;
			      elemBonuses[3].innerHTML = 1;
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 == scorePlayer3 && scorePlayer1 > scorePlayer4) {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = 1;
			      elemBonuses[2].innerHTML = 1;
			      elemBonuses[3].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 == scorePlayer4 && scorePlayer1 > scorePlayer3) {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = 1;
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = 1;
			    }
			    else if (scorePlayer1 == scorePlayer3 && scorePlayer1 == scorePlayer4 && scorePlayer1 > scorePlayer2) {
			      elemBonuses[0].innerHTML = 1;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 1;
			      elemBonuses[3].innerHTML = 1;
			    }
			    else if (scorePlayer2 == scorePlayer3 && scorePlayer2 == scorePlayer4 && scorePlayer2 > scorePlayer1) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 1;
			      elemBonuses[2].innerHTML = 1;
			      elemBonuses[3].innerHTML = 1;
			    }
			    else if (scorePlayer1 == scorePlayer2 && scorePlayer1 > scorePlayer3 && scorePlayer1 > scorePlayer4) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer3 && scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer4) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 2;
			      elemBonuses[3].innerHTML = '';
			    }
			    else if (scorePlayer1 == scorePlayer4 && scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer3) {
			      elemBonuses[0].innerHTML = 2;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = 2;
			    }
			    else if (scorePlayer2 == scorePlayer3 && scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer4) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = 2;
			      elemBonuses[3].innerHTML = '';
			    }
			    else if (scorePlayer2 == scorePlayer4 && scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer3) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = 2;
			    }
			    else if (scorePlayer3 == scorePlayer4 && scorePlayer3 > scorePlayer1 && scorePlayer3 > scorePlayer2) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 2;
			      elemBonuses[3].innerHTML = 2;
			    }
			    else if (scorePlayer2 == scorePlayer3 && scorePlayer2 > scorePlayer1) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 2;
			      elemBonuses[2].innerHTML = 2;
			    }
			    else if (scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer3 && scorePlayer1 > scorePlayer4) {
			      elemBonuses[0].innerHTML = 3;
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = '';
			      if (scorePlayer2 > scorePlayer3 && scorePlayer2 > scorePlayer4) {
			        elemBonuses[1].innerHTML = 1;
			      } else if (scorePlayer3 > scorePlayer2 && scorePlayer3 > scorePlayer4) {
			        elemBonuses[2].innerHTML = 1;
			      } else if (scorePlayer4 > scorePlayer2 && scorePlayer4 > scorePlayer3) {
			        elemBonuses[3].innerHTML = 1;
			      }
			    }
			    else if (scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer3 && scorePlayer2 > scorePlayer4) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = 3;
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = '';
			      if (scorePlayer1 > scorePlayer3 && scorePlayer1 > scorePlayer4) {
			        elemBonuses[0].innerHTML = 1;
			      } else if (scorePlayer3 > scorePlayer1 && scorePlayer3 > scorePlayer4) {
			        elemBonuses[2].innerHTML = 1;
			      } else if (scorePlayer4 > scorePlayer1 && scorePlayer4 > scorePlayer3) {
			        elemBonuses[3].innerHTML = 1;
			      }
			    }
			    else if (scorePlayer3 > scorePlayer1 && scorePlayer3 > scorePlayer2 && scorePlayer3 > scorePlayer4) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = 3;
			      elemBonuses[3].innerHTML = '';
			      if (scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer4) {
			        elemBonuses[0].innerHTML = 1;
			      } else if (scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer4) {
			        elemBonuses[1].innerHTML = 1;
			      } else if (scorePlayer4 > scorePlayer1 && scorePlayer4 > scorePlayer2) {
			        elemBonuses[3].innerHTML = 1;
			      }
			    }
			    else if (scorePlayer4 > scorePlayer1 && scorePlayer4 > scorePlayer2 && scorePlayer4 > scorePlayer3) {
			      elemBonuses[0].innerHTML = '';
			      elemBonuses[1].innerHTML = '';
			      elemBonuses[2].innerHTML = '';
			      elemBonuses[3].innerHTML = 3;
			      if (scorePlayer1 > scorePlayer2 && scorePlayer1 > scorePlayer3) {
			        elemBonuses[0].innerHTML = 1;
			      } else if (scorePlayer2 > scorePlayer1 && scorePlayer2 > scorePlayer3) {
			        elemBonuses[1].innerHTML = 1;
			      } else if (scorePlayer3 > scorePlayer1 && scorePlayer3 > scorePlayer2) {
			        elemBonuses[2].innerHTML = 1;
			      }
			    }
			  }
			}

			// Update a score
			function updateRowScore(row, player, direction) {
			  var scoreInput = document.querySelector(".js-score[data-row='" + row + "'][data-player='" + player + "']");
			  if (direction == 'decrement' && scoreInput.value > 0) {
			    scoreInput.value = parseInt(scoreInput.value) - 1
			  }
			  if (direction == 'increment') {
			    scoreInput.value = parseInt(scoreInput.value) + 1
			  }
			  scoreInput.dispatchEvent(new Event('change'));
			  updateTotalScore();
			}

			// Increment score
			elemIncrements.forEach((elemIncrement) => {
			  elemIncrement.addEventListener('click', (e) => {
				updateRowScore(elemIncrement.dataset.row, elemIncrement.dataset.player, 'increment');
			  });
			});

			// Decrement score
			elemDecrements.forEach((elemDecrement) => {
			  elemDecrement.addEventListener('click', (e) => {
				updateRowScore(elemDecrement.dataset.row, elemDecrement.dataset.player, 'decrement');
			  });
			});

			// Update the total scores with all subtotals
			function updateTotalScore() {
			  var scorePlayer1 = 0;
			  var scorePlayer2 = 0;
			  var scorePlayer3 = 0;
			  var scorePlayer4 = 0;
			  elemScoresPlayer1.forEach((elemScore) => {
			    scorePlayer1 += parseInt(elemScore.value);
			  });
			  elemScoresPlayer2.forEach((elemScore) => {
			    scorePlayer2 += parseInt(elemScore.value);
			  });
			  elemScoresPlayer3.forEach((elemScore) => {
			    scorePlayer3 += parseInt(elemScore.value);
			  });
			  elemScoresPlayer4.forEach((elemScore) => {
			    scorePlayer4 += parseInt(elemScore.value);
			  });
			  elemBonusesPlayer1.forEach((elemBonus) => {
			    if (elemBonus.innerHTML) {
			      scorePlayer1 += parseInt(elemBonus.innerHTML);
			    }
			  });
			  elemBonusesPlayer2.forEach((elemBonus) => {
			    if (elemBonus.innerHTML) {
			      scorePlayer2 += parseInt(elemBonus.innerHTML);
			    }
			  });
			  elemBonusesPlayer3.forEach((elemBonus) => {
			    if (elemBonus.innerHTML) {
			      scorePlayer3 += parseInt(elemBonus.innerHTML);
			    }
			  });
			  elemBonusesPlayer4.forEach((elemBonus) => {
			    if (elemBonus.innerHTML) {
			      scorePlayer4 += parseInt(elemBonus.innerHTML);
			    }
			  });
			  elemTotalScorePlayer1.innerHTML = scorePlayer1;
			  elemTotalScorePlayer2.innerHTML = scorePlayer2;
			  elemTotalScorePlayer3.innerHTML = scorePlayer3;
			  elemTotalScorePlayer4.innerHTML = scorePlayer4;
			}

			// Reset all scores
			document.querySelector('.js-total-scores').addEventListener('click', (e) => {
			  var result = window.confirm('Reset your score?');
			  if (result == true) {
			    // Reset scores
			    elemScores.forEach((elemScore) => {
			      elemScore.value = 0;
			    });
			    elemBonuses.forEach((elemBonus) => {
			      elemBonus.innerHTML = '';
			    });
			  	updateTotalScore();
			  }
			  e.stopPropagation();
			});
    </script>
  </body>
</html>
